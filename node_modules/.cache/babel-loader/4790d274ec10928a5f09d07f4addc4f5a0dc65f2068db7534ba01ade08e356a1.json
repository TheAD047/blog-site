{"ast":null,"code":"import _regeneratorRuntime from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate,useParams}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReportDetails=function ReportDetails(){var _useParams=useParams(),reportID=_useParams.reportID;var nav=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),report=_useState2[0],setReport=_useState2[1];var deleteReport=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var deleteRep,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"/api/Report/delete/\".concat(reportID),{method:'POST',credentials:'include',headers:{'Content-Type':'application/json'}});case 3:deleteRep=_context.sent;_context.next=6;return deleteRep.status;case 6:status=_context.sent;console.log(status);if(status===200){nav('/reports');}else{console.log('failed');}case 9:case\"end\":return _context.stop();}},_callee);}));return function deleteReport(_x){return _ref.apply(this,arguments);};}();useEffect(function(){fetch(\"/api/report/view/\".concat(reportID),{credentials:'include',method:'GET',headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(res){return setReport(res);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Report Details\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-group list-group-flush card\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-center ist-group-item card-text\",children:[\" ReportID: \",report._id]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center ist-group-item card-text\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/Blog/\".concat(report.blogID),children:[\"BlogID: \",report.blogID]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center ist-group-item card-text text-area\",children:report.reportDescription})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h6\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger text-center\",onClick:deleteReport,children:\"Delete\"})})]});};export default ReportDetails;","map":{"version":3,"names":["useNavigate","useParams","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReportDetails","_useParams","reportID","nav","_useState","_useState2","_slicedToArray","report","setReport","deleteReport","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","deleteRep","status","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","method","credentials","headers","sent","console","log","stop","_x","apply","arguments","then","res","json","children","className","_id","href","blogID","reportDescription","onClick"],"sources":["C:/javascript/blog-site/src/Components/ReportDetails.jsx"],"sourcesContent":["import {useNavigate, useParams} from \"react-router-dom\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nconst ReportDetails = () => {\r\n    const {reportID} = useParams();\r\n    const nav = useNavigate();\r\n    const [report, setReport] = useState({});\r\n\r\n    const deleteReport = async (e) => {\r\n        e.preventDefault()\r\n\r\n        const deleteRep = await fetch(`/api/Report/delete/${reportID}`, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n\r\n        const status = await deleteRep.status;\r\n\r\n        console.log(status)\r\n\r\n        if(status === 200) {\r\n            nav('/reports')\r\n        }\r\n        else {\r\n            console.log('failed')\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n            fetch(`/api/report/view/${reportID}`, {\r\n                credentials: 'include',\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(res => setReport(res))\r\n    }, [])\r\n\r\n\r\n    return <>\r\n        <h1 className='text-center'>Report Details</h1>\r\n        <br/>\r\n        <div className='list-group list-group-flush card'>\r\n            <p className='text-center ist-group-item card-text'> ReportID: {report._id}</p>\r\n            <p className='text-center ist-group-item card-text'>\r\n                <a href={`/Blog/${report.blogID}`} >\r\n                    BlogID: {report.blogID}\r\n                </a>\r\n            </p>\r\n            <p className='text-center ist-group-item card-text text-area'>{report.reportDescription}</p>\r\n        </div>\r\n\r\n        <br />\r\n        <h6 className='text-center'>\r\n            <button className='btn btn-danger text-center' onClick={deleteReport} >\r\n                Delete\r\n            </button>\r\n        </h6>\r\n    </>\r\n}\r\n\r\nexport default ReportDetails;"],"mappings":"uVAAA,OAAQA,WAAW,CAAEC,SAAS,KAAO,kBAAkB,CACvD,OAAQC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1C,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,IAAAC,UAAA,CAAmBV,SAAS,CAAC,CAAC,CAAvBW,QAAQ,CAAAD,UAAA,CAARC,QAAQ,CACf,GAAM,CAAAC,GAAG,CAAGb,WAAW,CAAC,CAAC,CACzB,IAAAc,SAAA,CAA4BX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,SAAA,CAAAC,MAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACzBP,CAAC,CAACQ,cAAc,CAAC,CAAC,CAAAH,QAAA,CAAAE,IAAA,SAEM,CAAAE,KAAK,uBAAAC,MAAA,CAAuBvB,QAAQ,EAAI,CAC5DwB,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,QANIZ,SAAS,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAQM,CAAAN,SAAS,CAACC,MAAM,QAA/BA,MAAM,CAAAG,QAAA,CAAAS,IAAA,CAEZC,OAAO,CAACC,GAAG,CAACd,MAAM,CAAC,CAEnB,GAAGA,MAAM,GAAK,GAAG,CAAE,CACfd,GAAG,CAAC,UAAU,CAAC,CACnB,CAAC,IACI,CACD2B,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACzB,CAAC,wBAAAX,QAAA,CAAAY,IAAA,MAAAlB,OAAA,GACJ,kBArBK,CAAAL,YAAYA,CAAAwB,EAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAqBjB,CAED3C,SAAS,CAAC,UAAM,CACRgC,KAAK,qBAAAC,MAAA,CAAqBvB,QAAQ,EAAI,CAClCyB,WAAW,CAAE,SAAS,CACtBD,MAAM,CAAE,KAAK,CACbE,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACGQ,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,CACvBF,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAA7B,SAAS,CAAC6B,GAAG,CAAC,GAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAGN,mBAAOxC,KAAA,CAAAE,SAAA,EAAAwC,QAAA,eACH5C,IAAA,OAAI6C,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC/C5C,IAAA,QAAI,CAAC,cACLE,KAAA,QAAK2C,SAAS,CAAC,kCAAkC,CAAAD,QAAA,eAC7C1C,KAAA,MAAG2C,SAAS,CAAC,sCAAsC,CAAAD,QAAA,EAAC,aAAW,CAAChC,MAAM,CAACkC,GAAG,EAAI,CAAC,cAC/E9C,IAAA,MAAG6C,SAAS,CAAC,sCAAsC,CAAAD,QAAA,cAC/C1C,KAAA,MAAG6C,IAAI,UAAAjB,MAAA,CAAWlB,MAAM,CAACoC,MAAM,CAAG,CAAAJ,QAAA,EAAE,UACxB,CAAChC,MAAM,CAACoC,MAAM,EACvB,CAAC,CACL,CAAC,cACJhD,IAAA,MAAG6C,SAAS,CAAC,gDAAgD,CAAAD,QAAA,CAAEhC,MAAM,CAACqC,iBAAiB,CAAI,CAAC,EAC3F,CAAC,cAENjD,IAAA,QAAK,CAAC,cACNA,IAAA,OAAI6C,SAAS,CAAC,aAAa,CAAAD,QAAA,cACvB5C,IAAA,WAAQ6C,SAAS,CAAC,4BAA4B,CAACK,OAAO,CAAEpC,YAAa,CAAA8B,QAAA,CAAE,QAEvE,CAAQ,CAAC,CACT,CAAC,EACP,CAAC,CACP,CAAC,CAED,cAAe,CAAAvC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}