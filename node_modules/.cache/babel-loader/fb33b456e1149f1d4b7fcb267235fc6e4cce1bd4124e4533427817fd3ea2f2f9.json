{"ast":null,"code":"import _regeneratorRuntime from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CreateBlog(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),heading=_useState2[0],setHeading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var cookie=document.cookie.split(';');var authCookie=cookie[3].split(':');var username=authCookie[1].slice(3,authCookie[1].length-4);var nav=useNavigate();console.log(username);var addBlog=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var blog,res,status;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();blog={heading:heading,body:body,username:username};_context.next=4;return fetch(\"/api/blog/add\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(blog)});case 4:res=_context.sent;_context.next=7;return res.status;case 7:status=_context.sent;if(status===200){nav('/home');}case 9:case\"end\":return _context.stop();}},_callee);}));return function addBlog(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center card-title\",children:\"Create a blog\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form card-body\",onSubmit:addBlog,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"heading\",children:\"Heading\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"heading\",id:\"heading\",value:heading,onChange:function onChange(e){setHeading(e.target.value);},required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"heading\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"body\",id:\"body\",value:body,onChange:function onChange(e){setBody(e.target.value);},required:true})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary text-center\",type:\"submit\",children:\"Create\"})})]})]})]})});}export default CreateBlog;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateBlog","_useState","_useState2","_slicedToArray","heading","setHeading","_useState3","_useState4","body","setBody","cookie","document","split","authCookie","username","slice","length","nav","console","log","addBlog","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","blog","res","status","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","JSON","stringify","sent","stop","_x","apply","arguments","children","className","onSubmit","htmlFor","type","name","id","value","onChange","target","required"],"sources":["C:/javascript/blog-site/src/Components/createBlog.jsx"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\nfunction CreateBlog() {\r\n    const [heading, setHeading] = useState('')\r\n    const [body, setBody] = useState('')\r\n    const cookie = document.cookie.split(';')\r\n    const authCookie = cookie[3].split(':');\r\n    const username = authCookie[1].slice(3, authCookie[1].length - 4);\r\n    const nav = useNavigate();\r\n\r\n    console.log(username);\r\n\r\n    const addBlog = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const blog = {heading, body, username}\r\n\r\n        const res = await fetch(`/api/blog/add`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(blog)\r\n        })\r\n\r\n        const status = await res.status;\r\n\r\n        if(status === 200) {\r\n            nav('/home')\r\n        }\r\n    }\r\n\r\n    return <>\r\n        <div className='card'>\r\n            <h2 className='text-center card-title'>Create a blog</h2>\r\n            <br />\r\n            <form className='form card-body' onSubmit={addBlog}>\r\n                <div className='row'>\r\n                    <div className='col-md-2'></div>\r\n                    <fieldset className='col-md-8'>\r\n                        <label htmlFor='heading'>Heading</label>\r\n                        <input\r\n                            className='form-control'\r\n                            type='text'\r\n                            name='heading'\r\n                            id='heading'\r\n                            value={heading}\r\n                            onChange={(e) => {setHeading(e.target.value)}}\r\n                            required />\r\n                    </fieldset>\r\n                </div>\r\n                <div className='row'>\r\n                    <div className='col-md-2'></div>\r\n                    <fieldset className='col-md-8'>\r\n                        <label htmlFor='heading'>Content</label>\r\n                        <textarea\r\n                            className='form-control'\r\n                            name='body'\r\n                            id='body'\r\n                            value={body}\r\n                            onChange={(e) => {setBody(e.target.value)}}\r\n                            required />\r\n                    </fieldset>\r\n                </div>\r\n                <br />\r\n                <div className='row'>\r\n                    <div className='col-md-6'></div>\r\n                    <div className='col-md-4'>\r\n                        <button className='btn btn-primary text-center' type='submit'>\r\n                            Create\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default CreateBlog;"],"mappings":"uVAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,KAAO,OAAO,CACrC,OAAQC,WAAW,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,IAAAC,SAAA,CAA8BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAwBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,GAAM,CAAAG,MAAM,CAAGC,QAAQ,CAACD,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC,CACzC,GAAM,CAAAC,UAAU,CAAGH,MAAM,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,GAAG,CAAC,CACvC,GAAM,CAAAE,QAAQ,CAAGD,UAAU,CAAC,CAAC,CAAC,CAACE,KAAK,CAAC,CAAC,CAAEF,UAAU,CAAC,CAAC,CAAC,CAACG,MAAM,CAAG,CAAC,CAAC,CACjE,GAAM,CAAAC,GAAG,CAAGxB,WAAW,CAAC,CAAC,CAEzByB,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC,CAErB,GAAM,CAAAM,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,IAAA,CAAAC,GAAA,CAAAC,MAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpBR,CAAC,CAACS,cAAc,CAAC,CAAC,CAEZR,IAAI,CAAG,CAACvB,OAAO,CAAPA,OAAO,CAAEI,IAAI,CAAJA,IAAI,CAAEM,QAAQ,CAARA,QAAQ,CAAC,CAAAkB,QAAA,CAAAE,IAAA,SAEpB,CAAAE,KAAK,iBAAkB,CACrCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACD9B,IAAI,CAAE+B,IAAI,CAACC,SAAS,CAACb,IAAI,CAC7B,CAAC,CAAC,QANIC,GAAG,CAAAI,QAAA,CAAAS,IAAA,CAAAT,QAAA,CAAAE,IAAA,SAQY,CAAAN,GAAG,CAACC,MAAM,QAAzBA,MAAM,CAAAG,QAAA,CAAAS,IAAA,CAEZ,GAAGZ,MAAM,GAAK,GAAG,CAAE,CACfZ,GAAG,CAAC,OAAO,CAAC,CAChB,CAAC,wBAAAe,QAAA,CAAAU,IAAA,MAAAjB,OAAA,GACJ,kBAlBK,CAAAL,OAAOA,CAAAuB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAkBZ,CAED,mBAAOlD,IAAA,CAAAI,SAAA,EAAA+C,QAAA,cACHjD,KAAA,QAAKkD,SAAS,CAAC,MAAM,CAAAD,QAAA,eACjBnD,IAAA,OAAIoD,SAAS,CAAC,wBAAwB,CAAAD,QAAA,CAAC,eAAa,CAAI,CAAC,cACzDnD,IAAA,QAAK,CAAC,cACNE,KAAA,SAAMkD,SAAS,CAAC,gBAAgB,CAACC,QAAQ,CAAE5B,OAAQ,CAAA0B,QAAA,eAC/CjD,KAAA,QAAKkD,SAAS,CAAC,KAAK,CAAAD,QAAA,eAChBnD,IAAA,QAAKoD,SAAS,CAAC,UAAU,CAAM,CAAC,cAChClD,KAAA,aAAUkD,SAAS,CAAC,UAAU,CAAAD,QAAA,eAC1BnD,IAAA,UAAOsD,OAAO,CAAC,SAAS,CAAAH,QAAA,CAAC,SAAO,CAAO,CAAC,cACxCnD,IAAA,UACIoD,SAAS,CAAC,cAAc,CACxBG,IAAI,CAAC,MAAM,CACXC,IAAI,CAAC,SAAS,CACdC,EAAE,CAAC,SAAS,CACZC,KAAK,CAAEjD,OAAQ,CACfkD,QAAQ,CAAE,SAAAA,SAAC5B,CAAC,CAAK,CAACrB,UAAU,CAACqB,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAC,EAAE,CAC9CG,QAAQ,MAAE,CAAC,EACT,CAAC,EACV,CAAC,cACN3D,KAAA,QAAKkD,SAAS,CAAC,KAAK,CAAAD,QAAA,eAChBnD,IAAA,QAAKoD,SAAS,CAAC,UAAU,CAAM,CAAC,cAChClD,KAAA,aAAUkD,SAAS,CAAC,UAAU,CAAAD,QAAA,eAC1BnD,IAAA,UAAOsD,OAAO,CAAC,SAAS,CAAAH,QAAA,CAAC,SAAO,CAAO,CAAC,cACxCnD,IAAA,aACIoD,SAAS,CAAC,cAAc,CACxBI,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,MAAM,CACTC,KAAK,CAAE7C,IAAK,CACZ8C,QAAQ,CAAE,SAAAA,SAAC5B,CAAC,CAAK,CAACjB,OAAO,CAACiB,CAAC,CAAC6B,MAAM,CAACF,KAAK,CAAC,EAAE,CAC3CG,QAAQ,MAAE,CAAC,EACT,CAAC,EACV,CAAC,cACN7D,IAAA,QAAK,CAAC,cACNE,KAAA,QAAKkD,SAAS,CAAC,KAAK,CAAAD,QAAA,eAChBnD,IAAA,QAAKoD,SAAS,CAAC,UAAU,CAAM,CAAC,cAChCpD,IAAA,QAAKoD,SAAS,CAAC,UAAU,CAAAD,QAAA,cACrBnD,IAAA,WAAQoD,SAAS,CAAC,6BAA6B,CAACG,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,QAE9D,CAAQ,CAAC,CACR,CAAC,EACL,CAAC,EACJ,CAAC,EACN,CAAC,CACR,CAAC,CACP,CAEA,cAAe,CAAA9C,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}