{"ast":null,"code":"import _slicedToArray from\"C:/javascript/blog-site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Outlet,Link,useNavigate}from\"react-router-dom\";import{useSignOut}from\"react-auth-kit\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Layout=function Layout(){var logout=useSignOut();var nav=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),cookie=_useState2[0],setCookie=_useState2[1];var username='';var auth=false;useEffect(function(){setCookie(document.cookie);console.log(cookie);},[cookie]);if(cookie){var token=cookie.split(';')[3];if(token){var _auth=token.split(':')[1];console.log(_auth);if(_auth){auth=true;username=_auth.slice(3,_auth.length-4);console.log(username);}}}var signOut=function signOut(){logout();nav('/');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{className:\"nav-bar header\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-light navbar-expand-md navigation-clean-search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"/\",children:\"Absolute Blogs\"}),/*#__PURE__*/_jsxs(\"button\",{\"data-toggle\":\"collapse\",className:\"navbar-toggler\",\"data-target\":\"#navcol-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Toggle navigation\"}),/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navcol-1\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav navbar-nav\",id:\"links\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/home\",children:\"Discover\"})}),!auth&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/resgister\",children:\"Register\"})})]}),auth&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",onClick:signOut,children:\"sign out\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",role:\"presentation\",children:/*#__PURE__*/_jsx(\"a\",{className:\"nav-link\",href:\"/user/\".concat(username,\"/blogs\"),children:\"Your Blogs\"})})]})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container main\",children:/*#__PURE__*/_jsx(Outlet,{})}),/*#__PURE__*/_jsxs(\"footer\",{className:\"text-center text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container p-4 pb-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"a\",{href:\"*\",className:\"btn btn-outline-light btn-rounded\",children:\"privacy policy\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"a\",{href:\"*\",className:\"btn btn-outline-light btn-rounded\",children:\"Contact us\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"a\",{href:\"*\",className:\"btn btn-outline-light btn-rounded\",children:\"Report\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-3\",children:\"\\xA9 2023 Copyright: Absolute blogs\"})]})]});};export default Layout;","map":{"version":3,"names":["Outlet","Link","useNavigate","useSignOut","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Layout","logout","nav","_useState","_useState2","_slicedToArray","cookie","setCookie","username","auth","document","console","log","token","split","_auth","slice","length","signOut","children","className","href","id","role","onClick","concat"],"sources":["C:/javascript/blog-site/src/Components/Layout.jsx"],"sourcesContent":["import {Outlet, Link, useNavigate} from \"react-router-dom\";\r\nimport {useSignOut} from \"react-auth-kit\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nconst Layout = () => {\r\n    const logout = useSignOut();\r\n    const nav = useNavigate();\r\n    const [cookie, setCookie]  = useState();\r\n    let username = ''\r\n    let auth = false\r\n\r\n    useEffect(() => {\r\n        setCookie(document.cookie)\r\n        console.log(cookie)\r\n    }, [cookie])\r\n\r\n    if(cookie) {\r\n        const token = cookie.split(';')[3]\r\n        if(token) {\r\n            const _auth = token.split(':')[1]\r\n            console.log(_auth)\r\n            if(_auth) {\r\n                auth = true\r\n                username = _auth.slice(3, _auth.length - 4);\r\n                console.log(username)\r\n            }\r\n        }\r\n    }\r\n\r\n    const signOut = () => {\r\n        logout()\r\n        nav('/')\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <header className='nav-bar header'>\r\n                <nav className=\"navbar navbar-light navbar-expand-md navigation-clean-search\">\r\n                    <div className=\"container-fluid\">\r\n                        <a className=\"navbar-brand\" href=\"/\">Absolute Blogs</a>\r\n                        <button data-toggle=\"collapse\" className=\"navbar-toggler\" data-target=\"#navcol-1\">\r\n                            <span className=\"sr-only\">Toggle navigation</span>\r\n                            <span className=\"navbar-toggler-icon\"></span>\r\n                        </button>\r\n                        <div className=\"collapse navbar-collapse\" id=\"navcol-1\">\r\n                            <ul className=\"nav navbar-nav\" id=\"links\">\r\n                                <li className=\"nav-item\" role=\"presentation\"><a className=\"nav-link\" href=\"/home\">Discover</a></li>\r\n                                {!auth && <>\r\n                                    <li className=\"nav-item\" role=\"presentation\"><a className=\"nav-link\" href=\"/login\">Login</a></li>\r\n                                    <li className=\"nav-item\" role=\"presentation\"><a className=\"nav-link\" href=\"/resgister\">Register</a></li>\r\n                                </>}\r\n                                {auth && <>\r\n                                    <li className=\"nav-item\" role=\"presentation\"><a className=\"nav-link\" onClick={signOut}>sign out</a></li>\r\n                                    <li className=\"nav-item\" role=\"presentation\"><a className=\"nav-link\" href={`/user/${username}/blogs`}>Your Blogs</a></li>\r\n                                </>}\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </header>\r\n            <div className=\"container main\">\r\n                <Outlet />\r\n            </div>\r\n            <footer className=\"text-center text-white\">\r\n                <div className=\"container p-4 pb-0\">\r\n                    <div className='row'>\r\n                        <div className='col-md-4'>\r\n                            <a href='*' className='btn btn-outline-light btn-rounded'>\r\n                                privacy policy\r\n                            </a>\r\n                        </div>\r\n                        <div className='col-md-4'>\r\n                            <a href='*' className='btn btn-outline-light btn-rounded'>\r\n                                Contact us\r\n                            </a>\r\n                        </div>\r\n                        <div className='col-md-4'>\r\n                            <a href='*' className='btn btn-outline-light btn-rounded'>\r\n                                Report\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"text-center p-3\" >\r\n                    Â© 2023 Copyright: Absolute blogs\r\n                </div>\r\n            </footer>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Layout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}